<!DOCTYPE html>
<html lang="en">
  <head>
  <title>Azure Credentials and Permissions | NetApp Cloud Docs</title>
  <meta charset="utf-8">
  <meta property="og:title" content="Azure Credentials and Permissions | NetApp Cloud Docs" />
	<meta property="og:type" content="website" />
	<meta property="og:url" content="https://docs.netapp.com/kubernetes-service/us-en/create-auth-credentials-on-azure.html" />
	<meta property="og:description" content="Learn how to create new Azure credentials, or locate your Azure credentials, so that you can build an Azure cluster using NKS." />
  <meta property="og:image" content="https://docs.netapp.com/kubernetes-service/us-en/images/logo-tophat-social.png" />
  <meta property="og:image:alt" content="NetApp Logo" />
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="format-detection" content="telephone=no">
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge,chrome=1">
  <meta http-equiv="encoding" content="utf-8">
  <meta http-equiv="nss-type" content="Product Documentation"/>
  <meta http-equiv="nss-subtype" content="User Guide"/>
  
  <meta name="description" content="Learn how to create new Azure credentials, or locate your Azure credentials, so that you can build an Azure cluster using NKS.">
  <meta name="keywords" content=" ">
  

  <!-- Icons -->
  <link rel="icon" href="/kubernetes-service/us-en/images/favicon.ico" type="image/x-icon">

  <!-- RSS Feed -->
  
  <link rel="alternate" type="application/rss+xml" title="NetApp Cloud Docs" href="/kubernetes-service/us-en/feed.xml">
  

  <!-- CSS Definitions: NetApp CSS should be defined after generic css -->

  <!-- Elastic Search -->
  <link rel="stylesheet" href="//cdn.jsdelivr.net/searchkit/0.10.0/theme.css">

  <!-- LUCI CSS Content -->
  <link rel="stylesheet" href="/kubernetes-service/us-en/common/css/esb.min.css">
  <link rel="stylesheet" href="/kubernetes-service/us-en/common/css/netapp-library.min.css">
  <link rel="stylesheet" href="/kubernetes-service/us-en/common/css/doc.css">
  <link rel="stylesheet" href="/kubernetes-service/us-en/common/css/doc-components.css">

  <link rel="stylesheet" href='/kubernetes-service/us-en/css/na-sidebar.css' type='text/css'>
  <link rel='stylesheet' href='/kubernetes-service/us-en/css/na-search.css' type='text/css'>
  <link rel='stylesheet' href='/kubernetes-service/us-en/css/clouddocs.css' type='text/css'>

  <!-- Font awesome seems to affect our GitHub Icon and generic "arrow box" for external links. -->
  <link rel="stylesheet" type="text/css" href="/kubernetes-service/us-en/css/font-awesome.min.css">
  <!-- <link rel="stylesheet" href="/kubernetes-service/us-en/css/customstyles.css"> -->
  <!-- Controls the shadow effect for search dropdown menu -->
  <link rel="stylesheet" href="/kubernetes-service/us-en/css/boxshadowproperties.css">

  <!-- NetApp CSS controls the technical content -->
  <link rel='stylesheet' href='/kubernetes-service/us-en/css/netapp.css' type='text/css'>

  

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
  <!-- Used to import Promise for IE. Required for SearchKit -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/bluebird/3.3.5/bluebird.min.js"></script>
  
    <script src='/kubernetes-service/us-en/js/na-search.js'></script>
  

  
  <link rel='stylesheet' href='/kubernetes-service/us-en/css/na-pagenav.css' type='text/css' id="pagenav-css">
  <script src='/kubernetes-service/us-en/js/na-pagenav.js'></script>
  

  <link rel='stylesheet' href='/kubernetes-service/us-en/css/prism.css' type='text/css'>
  <link rel='stylesheet' href='/kubernetes-service/us-en/css/prism-netapp.css' type='text/css'>

  <script src='/kubernetes-service/us-en/js/clouddocs.js'></script>
  <script src='/kubernetes-service/us-en/js/s_code_impl.js'></script>
  <script src='/kubernetes-service/us-en/js/jquery.navgoco.min.js'></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
  <script src='/kubernetes-service/us-en/js/toc.js'></script>
  <script src='/kubernetes-service/us-en/js/customscripts.js'></script>

  <script>
      $(document).ready(function() {
          // Initialize navgoco with default options
          $("#mysidebar").navgoco({
              caretHtml: '',
              accordion: true,
              openClass: 'active', // open
              save: false, // leave false or nav highlighting doesn't work right
              cookie: {
                  name: 'navgoco',
                  expires: false,
                  path: '/'
              },
              slide: {
                  duration: 400,
                  easing: 'swing'
              }
          });

          $("#collapseAll").click(function(e) {
              e.preventDefault();
              $("#mysidebar").navgoco('toggle', false);
          });

          $("#expandAll").click(function(e) {
              e.preventDefault();
              $("#mysidebar").navgoco('toggle', true);
          });

      });

  </script>
  <script>
      $(document).ready(function() {
          $("#tg-sb-link").click(function() {
              $("#tg-sb-sidebar").toggle();
              $("#tg-sb-content").toggleClass('col-md-9');
              $("#tg-sb-content").toggleClass('col-md-12');
              $("#tg-sb-icon").toggleClass('fa-toggle-on');
              $("#tg-sb-icon").toggleClass('fa-toggle-off');
          });
      });
  </script>

  <!-- Controls the i18n Browser Redirection -->
  <script>
    var siteLocales = [];
    
      siteLocales.push("us-en");
    

    standardizeUrl(siteLocales, "clouddocs.netapp.com", "https://docs.netapp.com");
  </script>

  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-81697994-3"></script>
  <script>
  if (document.location.hostname === "docs.netapp.com") {
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'UA-81697994-3');
  }
  </script>
</head>


  <body class="n-doc__component-detail">
    <a href="#n-main-content" class="visually-hidden">Skip to main content</a>
<div class="n-off-canvas-menu">
  <div class="n-off-canvas-menu__menu">
    <div class="n-off-canvas-menu__menu-inner">
      <div class="n-off-canvas-menu__property-title">NetApp Cloud Docs</div>
      <ul class="n-off-canvas-menu__property-navigation-list">
        <li class="n-off-canvas-menu__property-navigation-list-item ">
          <a href="https://docs.netapp.com/us-en/" class="n-off-canvas-menu__property-navigation-link">
            Home
          </a>
          <div class="n-off-canvas-menu__child-menu">
            <ul class="n-menu__list">

            </ul>
          </div>
        </li>
      </ul>

      <ul class="n-off-canvas-menu__global-navigation-list">
         <li class="n-off-canvas-menu__global-navigation-list-header">More From NetApp</li>
         <li class="n-off-canvas-menu__global-navigation-list-item"><a href="#" class="n-off-canvas-menu__global-navigation-link">Netapp.com</a></li>
      </ul>
    </div>
  </div>
</div>

    <div class="n-off-canvas-menu__content-wrap">
      <!-- Header -->
      <header>
  <!-- Top Hat -->
  <div class="n-top-hat">
    <div class="n-container">
      <div class="n-top-hat__cross-property-nav">
        <ul class="n-top-hat__list">
            <li class="n-top-hat__list-item">
              <a href="http://www.netapp.com" class="n-top-hat__link">NetApp.com</a>
            </li>
        </ul>
      </div>
    </div>
  </div>

  <!-- Property Bar -->
  <div class="n-property-bar n-property-bar--v3">
    <div class="n-property-bar__inner-wrap">
      <div class="n-property-bar__menu-toggle">
        <a href="#" class="n-property-bar__menu-toggle-link"><span class="n-property-bar__menu-toggle-text">Menu</span><svg class="n-icon-bars n-property-bar__menu-toggle-icon" aria-labelledby="title">
          <title>bars</title>
          <use xlink:href="/kubernetes-service/us-en/common/svg/sprite.svg#bars"></use>
        </svg></a>
      </div>
      <div class="n-property-bar__property-mark n-property-bar__property-mark--has-property-name">
        <a class="n-property-bar__property-link" href="https://docs.netapp.com/us-en/">
          <div class="n-property-bar__logo">
            <svg class="n-icon-netapp-mark n-property-bar__netapp-mark-icon" aria-labelledby="title">
              <title>netapp-mark</title>
              <use xlink:href="/kubernetes-service/us-en/common/svg/sprite.svg#netapp-mark"></use>
            </svg>
            <svg class="n-property-bar__logo-svg" aria-labelledby="title">
              <title>NetApp</title>
              <use xlink:href="/kubernetes-service/us-en/common/svg/sprite.svg#netapp-logo"></use>
            </svg>
          </div>
          <h2 class="n-property-bar__property-name">Cloud Docs</h2>
        </a>
      </div>

      
      <div id="search-demo-container" class="n-property-bar__search">
        <div id="react-search"></div>
      </div>
      

      <div id="ie-i18n-menu" class="n-property-bar__utils">
        <ul class="n-property-navigation-bar__utils-list">
          <li class="n-property-navigation-bar__utils-list-item ie-i18n-container">
            <a href="#" class="n-property-navigation-bar__utils-link n-property-navigation-bar__nav-link n-property-navigation-bar__language-selector-toggle ie-i18n-link" data-menu-id="n-property-navigation-bar__menu--language-selector">
              <span class="ie-i18n-lang">English</span>
              <svg class="ie-i18n-icon-container" class="n-property-bar__logo-svg" aria-labelledby="title">
                <title>globe</title>
                <use xlink:href="/kubernetes-service/us-en/common/svg/sprite.svg#globe" class="n-icon-globe n-globe__icon"></use>
              </svg>
            </a>
          </li>
        </ul>
      </div>
    </div>

    <div class="n-property-bar__menus">
      <div id="n-property-navigation-bar__menu--language-selector" class="n-menu n-menu--v3">
        <div class="n-language-selector-menu">
          <div class="n-language-selector-menu__header">
            <span class="n-language-selector-menu__title">Select Your Language</span>
          </div>
          <ul class="n-menu__list">
            <li class="n-menu__list-column">
              <ul class="n-menu__list">


                
                
                <li class="n-menu__list-item n-menu__list-item--level-1">
                  <a href="/kubernetes-service/us-en/" class="n-menu__header-text">English</a>
                </li>
                
                
              </ul>
            </li>
          </ul>
          <div class="menu__footer">
            <p>Current Language: English
            </p>
          </div>
        </div>
      </div>
    </div>
  </div>
</header>


      <!-- Content -->
      <main role="main" id="n-main-content" class="n-main-content">
        <div class="n-container">
  <div class="n-row">
    <div class="n-doc n-doc__component-list">
      <!-- Sidebar Column -->
      
      <div class="col-md-3" >
          

<ul id="mysidebar" class="nav">
  

  
    <li><a href="index.html">NKS Docs</a></li>
  

  
    <!-- Check Container -->
    <li class="subfolders">
      <a href="#">Setup and Credentials</a>
      <ul>
        

  
    <li><a href="create-auth-credentials-on-aws.html">AWS Credentials</a></li>
  

  
    <li><a href="find-aws-credentials-for-cvs.html">AWS Credentials for CVS</a></li>
  

  
    <li class="active"><a href="create-auth-credentials-on-azure.html">Azure Credentials</a></li>
  

  
    <li><a href="create-auth-credentials-on-gce.html">GCE Credentials</a></li>
  

  
    <li><a href="create-auth-credentials-on-gke.html">GKE Credentials</a></li>
  

  
    <li><a href="register-vmware.html">VMware Credentials</a></li>
  


      </ul>
    </li>
  

  
    <!-- Check Container -->
    <li class="subfolders">
      <a href="#">Application Lifecycle Management</a>
      <ul>
        

  
    <li><a href="alm-quickstart.html">ALM Quickstart Guide</a></li>
  

  
    <li><a href="alm-projects.html">ALM Projects</a></li>
  

  
    <li><a href="alm-applications.html">ALM Applications</a></li>
  

  
    <li><a href="alm-trackers.html">ALM Trackers</a></li>
  

  
    <li><a href="alm-packages.html">ALM Packages</a></li>
  


      </ul>
    </li>
  

  
    <!-- Check Container -->
    <li class="subfolders">
      <a href="#">NetApp HCI</a>
      <ul>
        

  
    <li><a href="netapp-hci-requirements.html">NetApp HCI Requirements</a></li>
  

  
    <li><a href="hci-enable-nks-for-netapp-hci.html">Enable NKS for NetApp HCI</a></li>
  

  
    <li><a href="create-netapp-hci-cluster.html">Create a NetApp HCI Cluster</a></li>
  


      </ul>
    </li>
  

  
    <!-- Check Container -->
    <li class="subfolders">
      <a href="#">Create a Kubernetes Cluster</a>
      <ul>
        

  
    <li><a href="create-aws-cluster.html">Create an AWS Cluster</a></li>
  

  
    <li><a href="create-aks-cluster.html">Create an AKS Cluster</a></li>
  

  
    <li><a href="create-azure-cluster.html">Create an Azure Cluster</a></li>
  

  
    <li><a href="create-anf-cluster.html">Create an ANF Cluster</a></li>
  

  
    <li><a href="create-eks-cluster.html">Create an EKS Cluster</a></li>
  

  
    <li><a href="create-gce-cluster.html">Create a GCE Cluster</a></li>
  

  
    <li><a href="create-gke-cluster.html">Create a GKE Cluster</a></li>
  

  
    <li><a href="create-netapp-hci-cluster.html">Create a NetApp HCI Cluster</a></li>
  

  
    <li><a href="create-vmware-cluster.html">Create a VMware Cluster</a></li>
  


      </ul>
    </li>
  

  
    <!-- Check Container -->
    <li class="subfolders">
      <a href="#">Manage Access</a>
      <ul>
        

  
    <li><a href="add-a-user.html">Add a User</a></li>
  

  
    <li><a href="add-a-team.html">Add a Team</a></li>
  

  
    <li><a href="add-a-workspace.html">Add a Workspace</a></li>
  

  
    <li><a href="ssh-to-a-node-in-an-nks-cluster.html">SSH to a Node in an NKS Cluster</a></li>
  


      </ul>
    </li>
  

  
    <!-- Check Container -->
    <li class="subfolders">
      <a href="#">Cluster Lifecycle</a>
      <ul>
        

  
    <li><a href="add-a-kubernetes-master-node.html">Add a Master Node</a></li>
  

  
    <li><a href="add-a-node-pool.html">Add a Node Pool</a></li>
  

  
    <li><a href="upgrade-kubernetes-on-an-nks-cluster.html">Upgrade Kubernetes</a></li>
  

  
    <li><a href="using-the-kubernetes-cloud-backup.html">Using the Kubernetes Cloud Backup</a></li>
  

  
    <li><a href="install-kubectl-to-control-a-kubernetes-cluster.html">Install Kubectl</a></li>
  

  
    <li><a href="intro-to-terraform-on-nks.html">Terraform on NKS</a></li>
  


      </ul>
    </li>
  

  
    <!-- Check Container -->
    <li class="subfolders">
      <a href="#">API</a>
      <ul>
        

  
    <li><a href="api-basics.html">API Basics</a></li>
  

  
    <li><a href="api-organizations.html">Organizations</a></li>
  

  
    <li><a href="api-workspaces.html">Workspaces</a></li>
  

  
    <li><a href="api-teams.html">Teams</a></li>
  

  
    <li><a href="api-members.html">Members</a></li>
  

  
    <li><a href="api-user.html">User</a></li>
  

  
    <li><a href="api-keysets.html">Keysets</a></li>
  

  
    <li><a href="api-clusters.html">Clusters</a></li>
  

  
    <li><a href="api-nodes.html">Nodes</a></li>
  

  
    <li><a href="api-nodepools.html">Nodepools</a></li>
  

  
    <li><a href="api-federations.html">Federations</a></li>
  

  
    <li><a href="api-istio-mesh.html">Istio Mesh</a></li>
  

  
    <li><a href="api-trusted-charts.html">Trusted Charts</a></li>
  

  
    <li><a href="api-subscription.html">Subscription</a></li>
  

  
    <li><a href="api-invoice.html">Invoices</a></li>
  

  
    <li><a href="api-notifications.html">Notifications</a></li>
  

  
    <li><a href="api-notifications-to-slack.html">Push NKS Notifications to a Slack Channel</a></li>
  


      </ul>
    </li>
  

  
    <!-- Check Container -->
    <li class="subfolders">
      <a href="#">Requirements and Other Details</a>
      <ul>
        

  
    <li><a href="netapp-hci-requirements.html">NetApp HCI Requirements</a></li>
  

  
    <li><a href="nks-requirements.html">NKS Requirements</a></li>
  

  
    <li><a href="whitelist-ports-and-ip-addresses.html">Whitelist Ports and IP Addresses</a></li>
  

  
    <li><a href="cipher-suites.html">Cipher Suites</a></li>
  


      </ul>
    </li>
  

  
    <li><a href="more-resources.html">More Resources</a></li>
  

  
    <li><a href="news.html">What's New</a></li>
  


</ul>

<!-- this highlights the active parent class in the navgoco sidebar. this is critical so that the parent expands when you're viewing a page. This must appear below the sidebar code above. Otherwise, if placed inside customscripts.js, the script runs before the sidebar code runs and the class never gets inserted.-->
<script>$("li.active").parents('li').toggleClass("active");</script>

      </div>
      

      <div class="n-doc__component-detail-content n-doc__component-detail-content--show-code">
        <!-- Begin of page container -->
        <article class="page-content">
          

<div class="n-doc__component-detail-heading-wrap">
  <h1 class="n-doc__component-detail-heading">Azure Credentials and Permissions
    <span>
      
        <a target="_blank" href="https://github.com/NetAppDocs/kubernetes-service/blob/master/create-auth-credentials-on-azure.adoc" class="btn btn-default githubEditButton" role="button"><i class="fa fa-github fa-lg"></i> Edit on GitHub</a>
        <a target="_blank" href="https://github.com/NetAppDocs/kubernetes-service/issues/new?body=Page%3A%20[Azure Credentials and Permissions](https://docs.netapp.com/us-en/kubernetes-service/create-auth-credentials-on-azure.html)" class="btn btn-default githubEditButton" role="button"><i class="fa fa-github fa-lg"></i> Request doc changes</a>
      
    </span>
  </h1>
</div>

<p class="page-details">

<time datetime="2019-08-27 18:51:59 +0000">08/27/2019</time>


<span>Contributors
  
  <a target="_blank" href="https://github.com/ebarcott">
    <img  class="avatar avatar-small"
          alt="ebarcott"
          width="20" height="20"
          src="https://avatars3.githubusercontent.com/u/44878916?v=4"
          style="border-radius: 50%;"/>
  </a>
  
  <a target="_blank" href="https://github.com/akseldavis">
    <img  class="avatar avatar-small"
          alt="akseldavis"
          width="20" height="20"
          src="https://avatars2.githubusercontent.com/u/33839009?v=4"
          style="border-radius: 50%;"/>
  </a>
  
</span>

</p>

<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>To create an Azure cluster through <a href="https://nks.netapp.io">NetApp Kubernetes Service (NKS)</a>, you will need to get your Azure credentials and verify that you have the correct permissions. You can do this either through <a href="https://portal.azure.com/">the Azure portal</a> or the <a href="https://docs.microsoft.com/en-us/cli/azure/?view=azure-cli-latest">Azure CLI</a>.</p>
</div>
<div class="paragraph">
<p>To use this feature, you will need an NKS account. If you don&#8217;t have one already, you can sign up for a free 30-day trial with no credit card required at <a href="https://nks.netapp.io" class="bare">https://nks.netapp.io</a>.</p>
</div>
<div class="paragraph">
<p>After you add your Azure credentials to your NKS account, <a href="https://docs.netapp.com/us-en/kubernetes-service/create-azure-cluster.html">click here to learn how to create a Kubernetes cluster on Azure</a></p>
</div>
<div class="paragraph">
<p><strong>Shortcut: Find Your Azure Credentials</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Subscription ID:</strong> All Services &gt; Subscriptions &gt; Subscription ID</p>
</li>
<li>
<p><strong>Tenant ID</strong> (Azure calls this the Directory ID): Azure Active Directory &gt; Properties &gt; Directory ID</p>
</li>
<li>
<p><strong>Client ID</strong> (Azure calls this the Application ID): All Services &gt; Filter by “app registrations” &gt; App Registrations &gt; Click your application &gt; Copy the Application ID</p>
</li>
<li>
<p><strong>Client Password</strong> (Azure calls this the Client Secret): All Services &gt; Filter by “app registrations” &gt; App Registrations &gt; Click your application &gt; Certificates &amp; Secrets &gt; Client Secrets &gt; New client secret</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="step-1-check-your-permissions">Step 1: Check Your Permissions</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Before you begin, or if you get a permissions error, you will want to go through your Azure account to check all of your permissions.</p>
</div>
<div class="sect2">
<h3 id="azure-user-permissions">Azure User Permissions</h3>
<div class="paragraph">
<p>Log in to  <a href="https://portal.azure.com/">the Azure portal</a>, then go to <strong>Azure Active Directory &gt; User settings &gt; App Registrations.</strong></p>
</div>
<div class="imageblock">
<div class="content">
<img src="assets/documentation/create-auth-credentials-on-azure/check-user-permissions.png?raw=true" alt="Azure Auth: App Registrations">
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>If “Users can register applications” is set to <strong>Yes</strong>, you can proceed.</p>
</li>
<li>
<p>If “Users can register applications” is set to <strong>No</strong>, only global administrators can register apps.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="azure-account-permissions">Azure Account Permissions</h3>
<div class="paragraph">
<p>Click <strong>Azure Active Directory &gt; Overview</strong> to check your account permissions. In this example, the account’s role is <strong>User</strong>.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="assets/documentation/create-auth-credentials-on-azure/user-role.png?raw=true" alt="Azure Auth: User Role">
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>If your account is assigned to the <strong>Global administrator</strong> role, you can proceed.</p>
</li>
<li>
<p>If your account is assigned to the <strong>User</strong> role, and “Users can register applications” is set to <strong>Yes,</strong> you can proceed.</p>
</li>
<li>
<p>If your account is assigned to the <strong>User</strong> role, and “Users can register applications” is set to <strong>No,</strong> you will NOT be able to register an app. You have two options:</p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Ask your administrator to assign your account to the Global administrator role.</p>
</li>
<li>
<p>Ask your administrator to enable users to register apps.</p>
</li>
</ol>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="azure-subscription-resource-providers">Azure Subscription Resource Providers</h3>
<div class="paragraph">
<p>You must have an Azure subscription created and assigned to the Azure directory. In order to work, the subscription must be registered with the resource provider <code>Microsoft.Network</code>.</p>
</div>
<div class="paragraph">
<p>To check this, click <strong>All services &gt; Subscriptions</strong></p>
</div>
<div class="imageblock">
<div class="content">
<img src="assets/documentation/create-auth-credentials-on-azure/subscription-id.png?raw=true" alt="Azure Auth: Subscription ID">
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Copy the Subscription ID. You will need it to create your NKS cluster.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The resource provider <code>Microsoft.Network</code> is not registered by default. You will need to register it. Select the subscription, then click <strong>Settings: Resource Providers</strong>.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="assets/documentation/create-auth-credentials-on-azure/check-resource-providers.png?raw=true" alt="Azure Auth: Subscription ID">
</div>
</div>
<div class="paragraph">
<p>Here you can check whether <code>Microsoft.Network</code> is registered. If not, find the service and click <strong>Register</strong>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
The providers <code>Microsoft.Storage</code> and <code>Microsoft.Compute</code> should also be registered by default. If these have not been registered, find them on the list and register them.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="azure-accounts-subscription-role">Azure Account&#8217;s Subscription Role</h3>
<div class="paragraph">
<p>Your account role for the subscription can be <strong>Owner</strong>, <strong>Account Admin</strong>, or <strong>User Access Administrator,</strong> but NOT <strong>Contributor</strong>.</p>
</div>
<div class="paragraph">
<p>To check this, go to <strong>All Services &gt; Subscriptions</strong> and check the <strong>My Role</strong> column.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="assets/documentation/create-auth-credentials-on-azure/my-subscription-role.png?raw=true" alt="Azure Auth: My Subscription Role">
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="step-2-create-an-azure-application">Step 2: Create an Azure Application</h2>
<div class="sectionbody">
<div class="paragraph">
<p>If you don&#8217;t already have an app, go to <strong>Azure Active Directory &gt; App registrations</strong> then click <strong>New registration</strong> to create a new one.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="assets/documentation/create-auth-credentials-on-azure/new-app-registration.png?raw=true" alt="Azure Auth: Add an new app registration">
</div>
</div>
<div class="paragraph">
<p>In the pop-up window which appears:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Enter a name for the app.</p>
</li>
<li>
<p>Choose the supported account type (Single Tenant, Multitenant, or Multitenant and Personal).</p>
</li>
<li>
<p>Set the Redirect URI (optional).</p>
</li>
<li>
<p>Click <strong>Register</strong>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This redirects you to the new application&#8217;s information page.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Copy the Application ID. This is the Client ID you will need to create your NKS cluster.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Next, give your app a role assignment.</p>
</div>
<div class="paragraph">
<p>Go to <strong>All services &gt; Subscriptions</strong>. Click the subscription you want to use for the app.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="assets/documentation/create-auth-credentials-on-azure/subscription-id.png?raw=true" alt="Azure Auth: Subscription ID">
</div>
</div>
<div class="paragraph">
<p>Click <strong>Access Control (IAM) &gt; +Add</strong>. In the drop-down menu which appears, choose <strong>Add role assignment</strong>.</p>
</div>
<div class="paragraph">
<p>In the pop-up window which appears:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Choose <code>Contributor</code> for the role.</p>
</li>
<li>
<p>Leave the <strong>Assign access to</strong> drop-down menu at the default choice, <code>Azure AD user, group, or service principal</code>.</p>
</li>
<li>
<p>Search for your app by pasting the App ID into the <strong>Select</strong> field.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Your app will appear in the search results. Click your app, then click <strong>Save</strong>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="step-3-create-a-client-password-client-secret">Step 3: Create a Client Password (Client Secret)</h2>
<div class="sectionbody">
<div class="paragraph">
<p>On the App Registrations page, click your app, then click <strong>Certificates &amp; Secrets &gt; +New client secret</strong>.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="assets/documentation/create-auth-credentials-on-azure/new-client-secret.png?raw=true" alt="Azure Auth: Create new client secret">
</div>
</div>
<div class="paragraph">
<p>Fill in the description and expiration date, then click <strong>Add</strong> to generate the key.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">
Copy and save the Client Secret. This is the Client Password you will need to create your NKS cluster. You will not be able to view the Client Secret after you leave this page.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>If you lose your Client Secret, you will need to create a new one.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="find-your-existing-azure-credentials">Find Your Existing Azure Credentials</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To create an Azure cluster through <a href="https://nks.netapp.io">NetApp Kubernetes Service (NKS)</a> you will need the Subscription ID, Tenant (Directory) ID, and Client (Application) ID.</p>
</div>
<div class="paragraph">
<p><strong>Shortcut: Find Your Azure Credentials</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Subscription ID:</strong> All Services &gt; Subscriptions &gt; Subscription ID</p>
</li>
<li>
<p><strong>Tenant ID</strong> (Azure calls this the Directory ID): Azure Active Directory &gt; Properties &gt; Directory ID</p>
</li>
<li>
<p><strong>Client ID</strong> (Azure calls this the Application ID): All Services &gt; Filter by “app registrations” &gt; App Registrations &gt; Click your application &gt; Copy the Application ID</p>
</li>
<li>
<p><strong>Client Password</strong> (Azure calls this the Client Secret): All Services &gt; Filter by “app registrations” &gt; App Registrations &gt; Click your application &gt; Certificates &amp; Secrets &gt; Client Secrets &gt; New client secret</p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="find-your-azure-subscription-id">Find Your Azure Subscription ID</h3>
<div class="paragraph">
<p>Sign in to your Azure account through the <a href="https://portal.azure.com/">Azure portal</a>. Go to <strong>All services &gt; Subscriptions</strong> and copy the Subscription ID.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="assets/documentation/create-auth-credentials-on-azure/subscription-id.png?raw=true" alt="Azure Auth: Subscription ID">
</div>
</div>
</div>
<div class="sect2">
<h3 id="find-your-azure-tenant-id">Find Your Azure Tenant ID</h3>
<div class="paragraph">
<p>Click <strong>Azure Active Directory &gt; Properties &gt; Directory ID.</strong>  This is the Tenant ID you need to create your NKS cluster.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="assets/documentation/create-auth-credentials-on-azure/tenant-id.png?raw=true" alt="Azure Auth: Tenant ID">
</div>
</div>
</div>
<div class="sect2">
<h3 id="find-your-azure-client-id">Find Your Azure Client ID</h3>
<div class="paragraph">
<p>Go to <strong>Azure Active Directory &gt; App registrations</strong>. Copy the Application ID. This is the Client ID you will need to create your NKS cluster.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="assets/documentation/create-auth-credentials-on-azure/app-id.png?raw=true" alt="Azure Auth: App ID">
</div>
</div>
</div>
<div class="sect2">
<h3 id="find-your-azure-client-password-secret">Find Your Azure Client Password (Secret)</h3>
<div class="paragraph">
<p>Go to <strong>Azure Active Directory &gt; App Registrations</strong>. Click your app, then click <strong>Certificates &amp; Secrets &gt; +New client secret</strong>.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="assets/documentation/create-auth-credentials-on-azure/new-client-secret.png?raw=true" alt="Azure Auth: Create new client secret">
</div>
</div>
<div class="paragraph">
<p>Fill in the description and expiration date, then click <strong>Add</strong> to generate the key.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">
Copy and save the Client Secret. This is the Client Password you will need to create your NKS cluster. You will not be able to view the Client Secret after you leave this page.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>If you lose your Client Secret, you will need to create a new one.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="use-the-azure-cli">Use the Azure CLI</h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>Authentication Parameters</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Subscription ID:</strong> Azure calls this "ID" in the output of the <code>az login</code> command.</p>
</li>
<li>
<p><strong>Tenant ID</strong>: Azure calls this the Directory ID.</p>
</li>
<li>
<p><strong>Client ID</strong>: Azure calls this the Application ID.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Log in to the <a href="https://docs.microsoft.com/en-us/cli/azure/?view=azure-cli-latest">Azure CLI</a>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>az login</pre>
</div>
</div>
<div class="paragraph">
<p>Follow the instructions to authenticate. After the log-in and authentication process is complete, this will output account information including the Subscription ID.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
The Subscription ID is labeled "ID" in the output of the <code>az login</code> command.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Set the account with the subscription ID.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>az account set --subscription "[subscription ID]"</pre>
</div>
</div>
<div class="paragraph">
<p>For example, if the subscription ID is <strong>a123-b456-c789</strong> the command is:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>az account set --subscription "a123-b456-c789"</pre>
</div>
</div>
<div class="paragraph">
<p>Create a resource group if one does not already exist.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>az group create -n "[resource group name]" -l "westus"</pre>
</div>
</div>
<div class="paragraph">
<p>For example, if the resource group name is <strong>myResourceGroup</strong> the command is:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>az group create -n "myResourceGroup" -l "westus"</pre>
</div>
</div>
<div class="paragraph">
<p>Create the service principal:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>az ad sp create-for-rbac --role="Contributor" --scopes="/subscriptions/[subscription ID]/resourceGroups/[resource group name]"</pre>
</div>
</div>
<div class="paragraph">
<p>For example, if the subscription ID is <strong>a123-b456-c789</strong> and the resource group name is <strong>myResourceGroup</strong>, the command is:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>az ad sp create-for-rbac --role="Contributor" --scopes="/subscriptions/a123-b456-c789/resourceGroups/myResourceGroup" -o table</pre>
</div>
</div>
<div class="paragraph">
<p>This will output account information including the app ID.</p>
</div>
<div class="paragraph">
<p>Assign the service principal with the role <strong>Contributor</strong>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>az role assignment create --assignee [appID] --role Contributor</pre>
</div>
</div>
<div class="paragraph">
<p>For example, if the app ID is <strong>1234-5678</strong>, the command is:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>az role assignment create --assignee 1234-5678 --role Contributor</pre>
</div>
</div>
<div class="paragraph">
<p><em>Did this article answer your question? If not, <a href="mailto:nks@netapp.com">contact us.</a></em></p>
</div>
</div>
</div>

        </article>
        <!-- Page Container -->
      </div>

      
      <div class="page-nav-container">
        <nav class="page-nav-fixed">
          <div class="page-nav-title">On this page:</div>
          <ul class="page-nav-inner" id="page-menu"></ul>
        </nav>
      </div>
      

    </div>
  </div>
</div>

      </main>

      <!-- Footer -->
      
      <footer class="n-footer n-footer--v1" style="border-top: solid 10px #DFDFDF;">
        <div class="n-footer__bottom">
          <div class="n-container">
            <div class="n-footer__bottom-left">
              <div class="n-footer__copyright">
                  <a href="//www.netapp.com/us/legal/copyright.aspx" class="n-footer__copyright-link">© 2019 NetApp, Inc.</a>
              </div>
              <div class="n-footer__copyright">
                <a href="//www.netapp.com/us/legal/index.aspx" class="n-footer__copyright-link">Legal</a>
              </div>
              <div class="n-footer__social-links n-footer__copyright">
                <ul class="n-footer__social-link-list">
                  <li class="n-footer__social-link-list-item">
                    <a class="n-footer__social-link" data-ntap-social="follow-blog" href="http://blog.netapp.com" target="_blank" title="blog" alt="blog">
                      <span class="n-footer__social-link-text">blog</span>
                      <svg class="n-icon-blog n-footer__social-link-icon" aria-labelledby="title">
                        <title>blog@</title>
                        <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/kubernetes-service/us-en/common/svg/sprite.svg#blog"></use>
                      </svg>
                    </a>
                  </li>
                  <li class="n-footer__social-link-list-item">
                    <a class="n-footer__social-link" data-ntap-social="follow-community" href="http://community.netapp.com/" target="_blank" title="community" alt="community">
                      <span class="n-footer__social-link-text">community</span>
                      <svg class="n-icon-twitter n-footer__social-link-icon" aria-labelledby="title">
                        <title>community@</title>
                        <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/kubernetes-service/us-en/common/svg/sprite.svg#comments"></use>
                      </svg>
                    </a>
                  </li>

                  <li class="n-footer__social-link-list-item">
                    <a class="n-footer__social-link" data-ntap-social="follow-twitter" href="https://twitter.com/netappdoc" target="_blank" title="twitter" alt="twitter">
                      <span class="n-footer__social-link-text">twitter</span>
                      <svg class="n-icon-twitter n-footer__social-link-icon" aria-labelledby="title">
                        <title>twitter@</title>
                        <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/kubernetes-service/us-en/common/svg/sprite.svg#twitter"></use>
                      </svg>
                    </a>
                  </li>
                  <li class="n-footer__social-link-list-item">
                    <a class="n-footer__social-link" data-ntap-social="follow-youtube" href="https://www.youtube.com/user/NetAppTechCommTV/" target="_blank" title="youtube" alt="youtube">
                      <span class="n-footer__social-link-text">youtube</span>
                      <svg class="n-icon-youtube n-footer__social-link-icon" aria-labelledby="title">
                        <title>youtube@</title>
                        <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/kubernetes-service/us-en/common/svg/sprite.svg#youtube"></use>
                      </svg>
                    </a>
                  </li>
                </ul>
              </div>
            </div>
            <div class="n-footer__bottom-right">
              <div class="n-footer__copyright">
                <a href="https://docs.netapp.com/us-en/contribute/" class="n-footer__copyright-link">Contribute</a>
              </div>
              <div class="n-footer__copyright">
                <a target="_self" class="n-footer__copyright-link" href="javascript:netapp_mailto()">Email your feedback</a>
              </div>
            </div>
          </div>
        </div>
      </footer>

    </div>

    <script src="/kubernetes-service/us-en/common/js/components.js"></script>
    <script src="/kubernetes-service/us-en/common/js/doc-components.js"></script>

    <!-- Elasticsearch JS -->
    <script type="text/javascript" src='/kubernetes-service/us-en/js/bundle.js'></script>

    <!-- Syntax Highlighting -->
    <script type="text/javascript" src='/kubernetes-service/us-en/js/prism.js'></script>
    <script type="text/javascript" src='/kubernetes-service/us-en/js/prism-curl.js'></script>

  </body>

  
</html>
